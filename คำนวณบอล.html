<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="คิดเงินบอลสเตป คิดเงินบอลชุด คำนวณบอลสเตป วิธีคิดเงินบอลสเตป วิธีคิดเงินบอลชุด">
    <title>วิธีคำนวณเงินบอลชุด บอลสเตป - mixfootball.com - mixfootball.com</title>
    <link href="/Content/css?v=TKESfT04j7_qHexf3dHv-FQkJrvwxCg9CmOCGzHNAlI1" rel="stylesheet"/>

    <script src="/bundles/modernizr?v=inCVuEFe6J4Q07A0AcRsbJic_UE5MwpRMNGcOtk94TE1"></script>


    <link rel="stylesheet" href="/Scripts/lib/ladda/ladda-themeless.min.css">
    <link rel="stylesheet" href="/Scripts/lib/ladda/prism.css">

    <script src="/bundles/jquery?v=8Oos0avDZyPg-cbyVzvkIfERIE1DGSe3sRQdCSYrgEQ1"></script>

    <script src="/bundles/bootstrap?v=M4Nk6kIOwMFflsEKET0iPL9i5YBqbzMzvUOrd8gyCnw1"></script>

    


    <script src="/Scripts/lib/ladda/spin.min.js"></script>
    <script src="/Scripts/lib/ladda/ladda.min.js"></script>
    <script src="/Scripts/lib/ladda/prism.js"></script>


    <style>
        .body-black {
            background-color: black;
        }
    </style>
</head>
<body class="body-black" style="margin-top:0px;">
    <div class="container body-content">
        


<style>
    .ad-topic-l1 {
        font-weight: bold;
        font-size: 26px;
        color: #FAEF98;
        text-align: center;
    }
    .cal-final-result {
        font-weight: bold;
        text-decoration: underline;
    }

    .exp_img {
        cursor: pointer;
    }

    .div_img {
        margin-top: 60px;
    }

    .div-download {
        float: right;
    }

    .div_dt {
        font-weight: bold;
    }

    #lst_img {
        overflow-x: auto;
    }
    th,td{
        color:white;
    }
    .td-padding tbody tr td, .td-padding thead tr th, .td-padding tfoot tr td {
        padding: 5px;
    }
    button {
        color: black
    }
</style>
<div class="row" style="margin-top:20px;">
    <div class="col-sm-8" style="padding-bottom:10px;">
        <div class="row">
            <div class="col-sm-12 advertise-1">
                <div class="row">
                    <h1 class="col-sm-12 ad-topic-l1">
                        โปรแกรมคำนวณบอลสเตป
                    </h1>
                    <div class="col-sm-12" style="padding-left: 0px; padding-right: 0px; ">
                        <table width="100%">
                            <tr>
                                <td align="right" style="font-size:10px;color:white;">โฆษณา</td>
                            </tr>
                            <tr>
                                <td>
                                    <a href="https://ezmovie.co" target="_blank" onclick="linkhistory('https://ezmovie.co'); return false;">
                                        <img src="/Content/7f0f5aa066165b356be73fb15257bc76.jpg" style="height:auto;width:100%" />
                                    </a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-12 day-box" style="margin-top: 10px; border: 2px solid #EDB324;padding:25px;">
                <form method="post" action="/โปรแกรมคำนวณบอลสเตป/PrintImage" id="printJS-form">
                    <div class="row">
                        <script>
                            var model = {"lstOptionSet":[{"key":"1","value":"ชนะทั้งหมด"},{"key":"2","value":"ชนะครึ่ง"},{"key":"3","value":"เสมอ"},{"key":"4","value":"แพ้ครึ่ง"},{"key":"5","value":"แพ้ทั้งหมด"}],"beginAmount":0.0,"finalAmount":null,"lstCalModel":[{"index":0,"score":null,"scoreResult":null,"calAmount":null},{"index":1,"score":null,"scoreResult":null,"calAmount":null},{"index":2,"score":null,"scoreResult":null,"calAmount":null},{"index":3,"score":null,"scoreResult":null,"calAmount":null},{"index":4,"score":null,"scoreResult":null,"calAmount":null}]};
                        </script>
                        <div class="col-sm-12"></div>
                        <div class="col-sm-12" style="text-align:center;">
                            <center>
                                <table class="td-padding">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>เงินเดิมพัน</th>
                                            <th><div id="input"></div></th>
                                            <th style="display:none"></th>
                                        </tr>
                                        <tr>
                                            <th>ลำดับ</th>
                                            <th>ราคาค่าน้ำ</th>
                                            <th>ผลการแข่งขัน</th>
                                            <th style="display:none;">เงินที่ได้</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody">
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <button type="button" class="btn btn-light" onclick="addedRow()">+เพิ่ม</button>
                                                <button type="button" class="btn btn-light" onclick="removeRow()">-ลบ</button>
                                            </td>
                                            <td style="text-align:right;">
                                                <button type="button" class="btn btn-light" onclick="ApplyAmount()">คำนวณ</button>
                                            </td>
                                            <td style="display:none;"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                            </td>
                                            <td><div id="output"></div></td>
                                            <td style="display:none;"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td align="right">
                                                <button type="button" class="btn btn-light" onclick="print()">Export image</button>
                                            </td>
                                            <td style="display:none;"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </center>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>

<script>
            function inputNotEmpty(){
                var input = $("#beginAmount");
                if(input.val()==""){
                    // alert("โปรดระบุเงินตั้งต้น !");
                    setTimeout(()=> { input.focus(); }, 100);
                    return false;
                }
                input = $("#score_0");
                if(input.val()==""){
                    setTimeout(()=> { input.focus(); }, 100);
                    return false;
                }
                input = $("#scoreResult_0");
                if(input.val()==null || input.val()==""){
                    setTimeout(()=> { input.focus(); }, 100);
                    return false;
                }
                return true;
            }
            function ApplyAmount() {
                $("#applyAmount").val($("#finalAmount").val());

                 var url = "/โปรแกรมคำนวณบอลสเตป/AddCallHistory";
                ajaxUrlRequest(url, CalHistoryResponse);
            }
            function CalHistoryResponse(data) {
                console.log("CalHistoryResponse:" + JSON.stringify(data));
            }
            function ClearForm(){
                model.beginAmount=null;
                model.lstCalModel=[];
                for(i=0;i<3;i++){
                    addedRow();
                }
                renderUI();
            }

            function initalPage(){
                getObject();
                calculate();
                renderUI();
            }

            function addedRow(){
                if(model.lstCalModel.length<=11){
                    model.lstCalModel.push(
                        {
                            score: null,
                            scoreResult: null,
                            calAmount: null
                        }
                    );
                    renderUI();
                }else{
                    alert("ไม่อนุญาตให้เพิ่มเกิน 12 รายการ");
                }
            }

            function removeRow(){
                model.lstCalModel = model.lstCalModel.slice(0, -1);
                renderUI();
            }

            function renderUI(){
                console.log(model);
                $("#input").html("");

                var htmlInput = `<input type="text" id="beginAmount" class="form-control" value="${numberformat(model.beginAmount)}" onkeyup="model.beginAmount=parseNumber(this.value);if(model.beginAmount>0){calculate();bindUiWithModel();}" />`;
                $("#input").append(htmlInput);

                let options = `<option value=""></option>`;
                for(let i=0;i<model.lstOptionSet.length;i++){
                    options+=`<option value="${model.lstOptionSet[i].key}">${model.lstOptionSet[i].value}</option>`;
                }
                $("#tbody").html("");
                for(let i=0;i<model.lstCalModel.length;i++){
                    var calModel = model.lstCalModel[i];
                    var selectIndexId = `scoreResult_${i}`;
                    var html=`<tr>
                                <td id="td_${i}">${(i+1)}</td>
                                <td><input  id="score_${i}" type="text" class="form-control" value="${numberformat(calModel.score)}" onkeyup="model.lstCalModel[${i}].score=parseNumber(this.value);calculate();bindUiWithModel();" /></td>
                                <td><select id="scoreResult_${i}" class="form-control" style="-webkit-appearance:checkbox;" onchange="model.lstCalModel[${i}].scoreResult=this.value;calculate();bindUiWithModel();">${options}</select></td>
                                <td style="display:none"><input id="calAmount_${i}" type="text" class="form-control" value="${numberformat2Digit(calModel.calAmount)}" readonly="readonly"/></td>
                              </tr>`;
                    $("#tbody").append(html);
                    //value="${calModel.scoreResult}"
                }
                bindUiWithModel();
                $("#output").html("");
                var htmlOutput = `<input id="finalAmount" style="text-align:right;display:none;" type="text" class="form-control cal-final-result" value="${numberformat2Digit(model.finalAmount)}" readonly="readonly" />
                                    <input id="applyAmount" style="text-align:right;" type="text" class="form-control cal-final-result" readonly="readonly" />
                                  `;
                $("#output").append(htmlOutput);
            }

            //$("#"+selectIndexId).val(""+calModel.scoreResult);
            //        $("#"+selectIndexId).val(""+calModel.scoreResult);
            function bindUiWithModel(){
                $(`#beginAmount`).val(numberformat0Digit(model.beginAmount));
                for(let i=0;i<model.lstCalModel.length;i++){
                    var calModel = model.lstCalModel[i];
                    $(`#td_${i}`).html(i+1);

                    $(`#score_${i}`).val(numberformat(calModel.score));
                    $(`#scoreResult_${i}`).val(""+calModel.scoreResult);

                    if(isNullOrEmpty($(`#score_${i}`).val()) || isNullOrEmpty($(`#scoreResult_${i}`).val())){
                        $(`#calAmount_${i}`).val("");
                    }else{
                        $(`#calAmount_${i}`).val(numberformat2Digit(calModel.calAmount));
                    }
                }
                $(`#finalAmount`).val(numberformat2Digit(model.finalAmount));
            }

            function isNullOrEmpty(val){
                if(val==null||val=="") return true;
                return false;
            }

            function calculate(){
                var beginAmount = parseFloat(model.beginAmount);
                var calAmount = beginAmount;
                for(let i=0;i<model.lstCalModel.length;i++){
                    var calModel = model.lstCalModel[i];
                    if(calModel.scoreResult==""||calModel.scoreResult==null||calModel.score=="" ||calModel.score==null){
                        calAmount = calAmount;
                        calModel.calAmount = null;
                    }else{
                        if(calModel.scoreResult==1){
                            //ชนะทั้งหมด
                            calAmount = calAmount*calModel.score;
                        }
                        else if(calModel.scoreResult==2){
                            //ชนะครึ่ง (ลบด้วย 1 แล้วหาร 2)
                            console.info("ชนะครึ่ง (ลบด้วย 1 แล้วหาร 2)");
                            console.info(calAmount);
                            console.info(calAmount);
                            console.info(calAmount*((calModel.score-1)/1));
                            calAmount = calAmount + calAmount*((calModel.score-1)/2);
                            console.info(calAmount);
                        }
                        else if(calModel.scoreResult==3){
                            //เสมอ
                            calAmount = calAmount;
                        }
                        else if(calModel.scoreResult==4){
                            //แพ้ครึ่ง(หาร2)
                            calAmount = calAmount/2;
                        }
                        else if(calModel.scoreResult==5){
                            //แพ้ทั้งหมด*0
                            calAmount = 0;
                        }
                        calModel.calAmount = calAmount;
                    }
                }
                model.finalAmount = calAmount;
            }
            function refreshData(){
                calculate();
                renderUI();
            }
            function numberformat(num){
                if(num!==undefined && num !=null){
                    return num;
                }
                return "";
            }
            function numberformat2Digit(num){
                if(num!==undefined && num !=null){
                    return parseFloat(num).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
                return "";
            }
            function numberformat0Digit(num){
                if(num!==undefined && num !=null){
                    return parseFloat(num).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                }
                return "";
            }
            function parseNumber(val){
                let result = val.replace(/,/g, '');
                return result;
            }
            $(function() {
                initalPage();
            });


            function print(){
                var url = "/โปรแกรมคำนวณบอลสเตป/PrintImage";
                $.post(url, model, function (result) {
                    location.href = "/โปรแกรมคำนวณบอลสเตป" + "/Download?file=" + result;
                });
            }


            function saveObject(){
                localStorage.setItem('save_model', JSON.stringify(model));
            }
            function getObject(){
                let item = localStorage.getItem('save_model');
                if(item!=null && item!=""){
                    model = JSON.parse(item);
                }
            }


            function download(url){
                window.open(url);
            }

           function formatDate(date) {
              var hours = date.getHours();
              var minutes = date.getMinutes();
              var ampm = hours >= 12 ? 'pm' : 'am';
              hours = hours % 12;
              hours = hours ? hours : 12; // the hour '0' should be '12'
              minutes = minutes < 10 ? '0'+minutes : minutes;
              var strTime = hours + ':' + minutes + ' ' + ampm;
              return (date.getMonth()+1) + "/" + date.getDate() + "/" + date.getFullYear() + "  " + strTime;
            }

</script>
    </div>
    <script>
        function ajaxUrlRequest(url, callBackMethod) {
            $.ajax({
                url: url,
                type: 'get',
                success: function (data) {
                    callBackMethod(data);
                }
            });
        }
    </script>
</body>
</html>
